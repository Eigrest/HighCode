

BEGIN TRY

MERGE INTO [__RefactorLog] AS Target
USING (VALUES
  (N'1B5881FD-94B0-4E3D-BC54-5E376A3B1538')
 ,(N'33DB412C-9CEF-4AF5-B5E4-7BBF887B5306')
 ,(N'F9FB845E-D224-40A5-BAE5-A4A38ED292AE')
 ,(N'FD5908BC-7638-4605-89F8-B5E4375A7FBD')
 ,(N'10D858A0-69C5-4686-B3F0-C4C9868A746C')
 ,(N'E713140B-1CA0-48B3-A62C-DF2E54A2214B')
 ,(N'AB44BA01-6A4F-4CFC-9CA8-E353A1052FA2')
) AS Source ([OperationKey])
ON (Target.[OperationKey] = Source.[OperationKey])
WHEN NOT MATCHED BY TARGET THEN
 INSERT([OperationKey])
 VALUES(Source.[OperationKey])
WHEN NOT MATCHED BY SOURCE THEN 
 DELETE
;
END TRY
BEGIN CATCH
    DECLARE @ERRORNUMBER	INT,@ERRORMSG		VARCHAR(MAX),@ERRORSTATE		INT
    SELECT @ERRORNUMBER = 50000 + ERROR_NUMBER(),@ERRORMSG = ERROR_MESSAGE(), @ERRORSTATE = ERROR_STATE();
    THROW @ERRORNUMBER, @ERRORMSG, @ERRORSTATE
END CATCH
GO





