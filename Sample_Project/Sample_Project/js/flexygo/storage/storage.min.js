var flexygo;!function(flexygo){!function(selection){selection.getArray=function(object){let selArr=flexygo.storage.local.get("selection-"+object.toLowerCase());return null==selArr&&(selArr=new Array),selArr},selection.setArray=function(object,selArr){return flexygo.storage.local.add("selection-"+object.toLowerCase(),selArr),!0},selection.add=function(object,value){let selArr=flexygo.selection.getArray(object);for(var i=0;i<selArr.length;i++)if(selArr[i]===value)return!1;return selArr.push(value),flexygo.selection.setArray(object,selArr)},selection.appendArray=function(object,selArr){let newArr=flexygo.selection.getArray(object).concat(selArr);for(var i=0;i<newArr.length;++i)for(var j=i+1;j<newArr.length;++j)newArr[i]===newArr[j]&&newArr.splice(j--,1);return flexygo.selection.setArray(object,selArr)},selection.remove=function(object,value){let selArr=flexygo.selection.getArray(object);for(var i=0;i<selArr.length;i++)if(selArr[i]===value)return selArr.splice(i,1),flexygo.selection.setArray(object,selArr);return!1},selection.clear=function(object){flexygo.storage.local.remove("selection-"+object.toLowerCase())},selection.contains=function(object,value){let selArr=flexygo.selection.getArray(object);for(var i=0;i<selArr.length;i++)if(selArr[i]===value)return!0;return!1},selection.toggle=function(object,value){let selArr=flexygo.selection.getArray(object);for(var i=0;i<selArr.length;i++)if(selArr[i]===value)return selArr.splice(i,1),flexygo.selection.setArray(object,selArr),!1;return selArr.push(value),flexygo.selection.setArray(object,selArr),!0},selection.getFilterString=function(object){let whereString,dataCnf=new flexygo.obj.Entity(object).getConfig();if(dataCnf.UniqueIdentifier){let itmArr=flexygo.selection.getArray(object);return 0==itmArr.length?"(1=0)":(whereString=dataCnf.TableName+"."+dataCnf.UniqueIdentifier,whereString+=" in ('"+itmArr.join("','")+"')")}return flexygo.msg.error("flxmodule.uniqueBagError"),"(1=0)"}}(flexygo.selection||(flexygo.selection={}))}(flexygo||(flexygo={})),function(flexygo){!function(storage){!function(local){var _saveTimer,_Timer=3e4;local.add=function(key,value){value=JSON.stringify(value),localStorage.setItem(flexygo.profiles.projectName+"-"+key,value),null==_saveTimer&&(_saveTimer=setTimeout(()=>{flexygo.storage.local.save()},_Timer))},local.remove=function(key){localStorage.removeItem(flexygo.profiles.projectName+"-"+key),null==_saveTimer&&(_saveTimer=setTimeout(()=>{flexygo.storage.local.save()},_Timer))},local.get=function(key){var value=localStorage.getItem(flexygo.profiles.projectName+"-"+key);return null==value||""==value?null:JSON.parse(value)},local.clear=function(){for(var i=0;i<localStorage.length;i++){let key=localStorage.key(i);key.startsWith(flexygo.profiles.projectName+"-")&&localStorage.removeItem(key)}},local.load=function(){flexygo.ajax.post("~/api/Storage","Load",null,function(response){for(var p in flexygo.storage.local.clear(),response)localStorage.setItem(flexygo.profiles.projectName+"-"+response[p].Key,response[p].Value)})},local.save=function(){_saveTimer=null;for(var properties=new Array,i=0;i<localStorage.length;i++){let key=localStorage.key(i);key.startsWith(flexygo.profiles.projectName+"-")&&properties.push({key:key.replace(flexygo.profiles.projectName+"-",""),value:localStorage.getItem(key)})}flexygo.ajax.post("~/api/Storage","Save",{Properties:properties},response=>response)}}(storage.local||(storage.local={}))}(flexygo.storage||(flexygo.storage={}))}(flexygo||(flexygo={})),function(flexygo){!function(storage){!function(session){session.add=function(key,value){sessionStorage.setItem(flexygo.profiles.projectName+"-"+key,value)},session.remove=function(key){sessionStorage.removeItem(flexygo.profiles.projectName+"-"+key)},session.clear=function(){for(var i=0;i<sessionStorage.length;i++){let key=sessionStorage.key(i);key.startsWith(flexygo.profiles.projectName+"-")&&sessionStorage.removeItem(key)}},session.reset=function(){sessionStorage.removeItem(flexygo.profiles.projectName+"-DevelopMode")},session.get=function(key){var value=sessionStorage.getItem(flexygo.profiles.projectName+"-"+key);return null==value||""==value?null:value}}(storage.session||(storage.session={}))}(flexygo.storage||(flexygo.storage={}))}(flexygo||(flexygo={}));